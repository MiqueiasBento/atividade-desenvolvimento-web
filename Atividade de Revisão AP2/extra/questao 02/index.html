<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questão 02</title>
</head>
<body>
    <h1>Alunos</h1>
    <div id="table-content"></div>

    <script>
        async function carregarAlunos() {
            try {
                const response = await fetch("https://api.exemplo.com/alunos");
                const alunos = await response.json();

                // Cria a tabela
                const tabela = document.createElement("table");

                // Cria o cabeçalho
                const thead = document.createElement("thead");
                thead.innerHTML = `
                    <tr>
                        <th>Nome</th>
                        <th>Curso</th>
                        <th>Nota</th>
                    </tr>
                    `;
                tabela.appendChild(thead);

                // Criar o corpo da tabela
                const tbody = document.createElement("tbody");
                let soma = 0;

                alunos.forEach(aluno => {
                    const linha = document.createElement("tr");

                    linha.innerHTML = `
                        <td>${aluno.nome}</td>
                        <td>${aluno.curso}</td>
                        <td>${aluno.nota}</td>
                    `;

                    soma += aluno.nota;
                    tbody.appendChild(linha);
                });

                tabela.appendChild(tbody);

                // Calcula média
                const media = soma / alunos.length;

                // Cria o rodapé com a média
                const tfoot = document.createElement("tfoot");
                tfoot.innerHTML = `
                    <tr>
                        <td colspan="2"><strong>Média da Turma</strong></td>
                        <td><strong>${media.toFixed(2)}</strong></td>
                    </tr>
                `;
                tabela.appendChild(tfoot);

                // Adiciona a tabela dentro da div com id "table-content"
                const container = document.getElementById("table-content");
                container.innerHTML = ""; // Limpa antes
                container.appendChild(tabela);

            } catch (error) {
                console.error("Erro ao carregar alunos:", error);
            }
        }

    </script>
</body>
</html>
